{% extends 'base.html' %}
{% block title %}Index{% endblock %}
{% block head %}
  {{ super() }}
  <script src="{{ url_for('static', filename='js/jquery.js') }}"></script>
  <script src="{{ url_for('static', filename='js/jquery.dataTables.min.js') }}"></script>
{% endblock %}
{% block content %}
<table id='game_list' class="table table-striped table-bordered table-compact" style="clear: both">
  <thead>
    <th>Home Team</th>
    <th>Away Team</th>
    <th>Match Day</th>
    <th>Interest Level</th>
    <th>Interest Score</th>
  </thead>
  <tbody>
    {% for game in games %}
      <tr>
        <td>{{game['home_team']}}</td>
        <td>{{game['away_team']}}</td>
        <td>{{game['match_day']}}</td>
        <td>
          {% if game['interest_level'] == 'High' %}
            <span class="label label-success">High</span>
          {% elif game['interest_level'] == 'Medium' %}
            <span class="label label-warning">Medium</span>
          {% elif game['interest_level'] == 'Low' %}
            <span class="label label-danger">Low</span>
          {% endif %}
        </td>
        <td>{{game['interest_score']}}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
<script>
  $(document).ready(function(){
    $('#game_list').DataTable({
      "columnDefs": [
        {
          "targets": [0,1,2,3],
          "bSortable": false,
        },
        {
          "targets": [4],
          "visible": false,
          "searchable": false
        },
      ],
      'order': [[2, 'desc'], [4, 'desc']],
      'paging': false,
      'bFilter': false,
      'bInfo': false,
    });
  });
</script>
{% endblock %}
